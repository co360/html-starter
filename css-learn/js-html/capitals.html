<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>HTML/CSS/JavaScript Starter</title>
    <script src="../../resources/node_modules/requirejs/require.js"></script>
    <script src="requirejs-config.js"></script>
</head>
<body>

<ol data-bind="foreach: capitalByStates">
    <li data-bind="text: $data"></li>
</ol>

<script>
    require(['knockout', 'data/capitals'], function (ko, capitals) {
        function ViewModel() {
            this.capitals = capitals;
            this.capitalByStates = ko.computed(function () {
                let stateKeys = Object.keys(this.capitals);
                return stateKeys.map((key) => {
                    let state = this.capitals[key];
                    return state.capital + ", " + state.name;
                });
            }, this);
        }
        let vm = new ViewModel();
        ko.applyBindings(vm);
    });
</script>

</body>
</html>

