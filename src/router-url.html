<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>OJET Starter</title>
    <link rel="icon" href="css/images/favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" href="css/alta/6.2.0/web/alta.css"/>

    <script type="text/javascript" src="js/libs/require/require.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
    <script>
        require(['knockout', 'ojs/ojcore', 'ojs/ojknockout',
            'ojs/ojrouter', 'ojs/ojbutton' ], function (ko, oj) {
            // Change default URL adapter
            oj.Router.defaults['urlAdapter'] = new oj.Router.urlParamAdapter();

            var router = oj.Router.rootInstance;

            // Add three states to the router with id 'home', 'book' and 'tables
            router.configure({
                'home': {label: 'Home', value: 'homeContent', isDefault: true},
                'book': {label: 'Book', value: 'bookContent'},
                'tables': {label: 'Tables', value: 'tablesContent'}
            });

            var viewModel = {
                router: router
            };

            oj.Router.sync().then(
                function () {
                    ko.applyBindings(viewModel);
                },
                function (error) {
                    Logger.error('Error when starting router: ' + error.message);
                });
        });
    </script>
</head>
<body>

<div id="routing-container">
    <div id='buttons-container' data-bind="foreach: router.states">
        <!-- Use the go function of the state as the handler for a click binding -->
        <input type="button"
               data-bind="click: go,  attr: {id: id},
            ojComponent: {component: 'ojButton', label: label}"/>
    </div>
</div>

<!-- Display the content of the current state -->
<h2 id="pageContent" data-bind="text: router.currentValue"/>

</body>
</html>
