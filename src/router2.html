<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>OJET Starter</title>
    <link rel="icon" href="css/images/favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" href="css/alta/6.2.0/web/alta.css"/>
    <link rel="stylesheet" href="css/samples/cookbook/demo-icon-font.css"/>

    <script type="text/javascript" src="js/libs/require/require.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
    <script>
        require(['ojs/ojcore', 'knockout', 'jquery', 'ojs/ojknockout',
                'ojs/ojtoolbar', 'ojs/ojbutton', 'ojs/ojrouter'],
            function (oj, ko, $) {
                // Change the router base URL value. This is needed when using the path URL
                // adapter because the default base URL value of '/' doesn't match this
                // application path. Use the value set on the <base> tag of this page.
                //var base = document.getElementsByTagName('base')[0].getAttribute('href');
                var base = window.location.origin;
                oj.Router.defaults['baseUrl'] = base;

                // Retrieve the router static instance and configure the states
                var router = oj.Router.rootInstance;
                router.configure(
                    {
                        'pref': {
                            label: 'Preface', value: 'This is the Preface.',
                            isDefault: true
                        },
                        'chap1': {label: 'Chapter 1', value: 'This is Chapter 1.'},
                        'chap2': {label: 'Chapter 2', value: 'This is Chapter 2.'},
                        'chap3': {label: 'Chapter 3', value: 'This is Chapter 3.'}
                    });

                var viewModel =
                    {
                        router: router
                    };

                $(function () {
                    ko.applyBindings(viewModel,
                        document.getElementById('routing-container'));
                    oj.Router.sync();
                });
            });
    </script>
</head>
<body>

<div id="sampleDemo" style="" class="demo-padding demo-container">
    <div id="componentDemoContent" style="width: 1px; min-width: 100%;">
        <div id="routing-container">
            <oj-toolbar id='buttons-container'>
                <oj-buttonset-one class="oj-buttonset-width-auto" value="{{router.stateId}}" focus-management="none">
                    <!-- ko foreach: router.states -->
                    <oj-option value="[[id]]">
                        <span data-bind="text: label"></span>
                    </oj-option>
                    <!-- /ko -->
                </oj-buttonset-one>
            </oj-toolbar>
            <hr/>
            <div id="pageContent" class="oj-panel oj-panel-alt2"
                 style="width: 200px">
                <h3 data-bind="text: router.currentValue"></h3>
            </div>
        </div>
    </div>
</div>

</body>
</html>
