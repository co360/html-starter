<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>OJET Starter</title>
  <link rel="icon" href="/css/images/favicon.ico" type="image/x-icon" />

  <link rel="stylesheet" href="css/alta/6.2.0/web/alta.css"/>
  <style>
    .container {
      min-height: 600px;
    }

    .drawer {
      min-height: 600px;
    }

    .drawerRight {
      min-height: 600px;
    }

    .main-content {
      min-height: 100%;
    }
  </style>

  <script type="text/javascript" src="js/libs/require/require.js"></script>
  <script type="text/javascript" src="js/main.js"></script>
  <script>
    require(['knockout', 'jquery', 'ojs/ojcore', 'ojs/ojknockout',
              'ojs/ojbutton', 'ojs/ojanimation', 'ojs/ojnavigationlist'],
            function(ko, $){
      function AppViewModel() {
        var self = this;

        var drawer = document.getElementById('drawer');
        var drawerRight = document.getElementById('drawerRight');
        var content = document.getElementById('content');

        // Keep track of whether the element is expanded
        self.drawerOut = true;
        self.drawerOutRight = true;

        self.buttonClick = function() {
          var drawerWidth = $(drawer).outerWidth();
          if (self.drawerOut) {
            $(drawer).animate({left: -drawerWidth});
            $(content).animate({marginLeft: 0});
            self.drawerOut = false;
          } else {
            $(drawer).animate({left: 0});
            $(content).animate({marginLeft: drawerWidth});
            self.drawerOut = true;
          }
        };
        self.buttonClickForDrawerRight = function() {
          var drawerWidth = $(drawerRight).outerWidth();
          if (self.drawerOutRight) {
            $(drawerRight).animate({left: +drawerWidth});
            $(content).animate({marginRight: drawerWidth});
            self.drawerOutRight = false;
          } else {
            $(drawerRight).animate({left: -drawerWidth});
            $(content).animate({marginRight: 0});
            self.drawerOutRight = true;
          }
        };
      }
      ko.applyBindings(new AppViewModel());
    });
  </script>
</head>
<body>

<h1>Resize collapse icon</h1>

<div class="container oj-flex" id="demo">

  <!-- drawer panel -->
  <div id="drawer" class="oj-panel oj-panel-alt1 drawer oj-flex-item oj-lg-3">
    <oj-navigation-list selection='home'>
      <ul>
        <li id="home"><a href="#">Home</a></li>
        <li id="gettingstarted"><a href="#">Getting Started</a></li>
        <li id="cookbook"><a href="#">Cookbook</a></li>
        <li id="stylelab"><a href="#">Style Lab</a></li>
        <li id="library"><a href="#" >Library</a></li>
      </ul>
    </oj-navigation-list>
  </div>

  <!-- content panel -->
  <div id="content" class="oj-panel oj-panel-alt2 main-content oj-flex-item oj-lg-6">
    <oj-button id='nav-button'
               on-oj-action='[[buttonClick]]'
               display='icons'>
      <span slot="startIcon" class="oj-fwk-icon-hamburger oj-fwk-icon"></span>
      Drawer
    </oj-button>
    <oj-button id='nav-button2'
               on-oj-action='[[buttonClickForDrawerRight]]'
               display='icons'
               style='float: right'>
      <span slot="startIcon" class="oj-fwk-icon-hamburger oj-fwk-icon"></span>
      Drawer
    </oj-button>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam pharetra, risus ac interdum sollicitudin, sem erat ultrices ipsum, eget vehicula nibh augue sollicitudin ligula. Sed ullamcorper cursus feugiat. Mauris tristique aliquam dictum. Nulla facilisi. Nulla ut sapien sapien. Phasellus tristique arcu id ipsum mattis id aliquam risus sollicitudin.<p>
  </div>

  <!-- drawer panel 2 (right side) -->
  <div id="drawerRight" class="oj-panel oj-panel-alt1 drawerRight oj-flex-item oj-lg-3">
    <oj-navigation-list>
      <ul>
        <li id="notification1">Notification1</li>
        <li id="notification2">Notification2</li>
        <li id="notification3">Notification3</li>
        <li id="notification4">Notification4</li>
        <li id="notification5">Notification5</li>
      </ul>
    </oj-navigation-list>
  </div>

</div>

</body>
</html>
